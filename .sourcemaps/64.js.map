{"version":3,"sources":["../../src/pages/config-app/config-app.module.ts","../../src/pages/config-app/config-app.ts"],"names":[],"mappings":"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","file":"64.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ConfigAppPage } from './config-app';\n\n@NgModule({\n  declarations: [\n    ConfigAppPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(ConfigAppPage),\n  ],\n  exports: [\n    ConfigAppPage,\n  ]\n})\nexport class ConfigAppPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/config-app/config-app.module.ts","import { Component } from '@angular/core';\nimport { NavController, IonicApp, ToastController, NavParams, LoadingController, ViewController, App, AlertController, Platform, ModalController, IonicPage, MenuController, Events  } from 'ionic-angular';\nimport { PouchdbProvider } from '../../providers/pouchdb-provider';\n//import { AjouterEssaiPage } from './ajouter-essai/ajouter-essai';\n//import { DetailEssaiPage } from './detail-essai/detail-essai';\nimport { Storage } from '@ionic/storage'; \nimport { global } from '../../global-variables/variable';\nimport { Validators, FormGroup, FormArray, FormBuilder } from '@angular/forms';\nimport { Device } from '@ionic-native/device';\nimport { Sim } from '@ionic-native/sim';\n\n\n\n/**\n * Generated class for the ConfigAppPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage() \n@Component({\n  selector: 'page-config-app',\n  templateUrl: 'config-app.html',\n})\nexport class ConfigAppPage {\n\n  id: any = '';\n  \n  config: any;\n  config1: any;\n  //configAModifier: any;\n  grandConfig: any;\n  configForm: any; \n  today: any;\n  imei: any = '';\n  phonenumber: any = '';\n  user: any = global.info_user;\n  global:any = global;\n  estManager: boolean = false;\n  estAnimataire: boolean = false;\n  aProfile:boolean = false;\n  modifierFrom: boolean = false;\n  ajoutForm: boolean = false;\n\n  constructor(public navCtrl: NavController, public loadtingCtl: LoadingController, public toastCtl: ToastController, public ionicApp: IonicApp, public viewCtl: ViewController, public formBuilder: FormBuilder, public sim: Sim, public device: Device, public modelCtl: ModalController, public navParams: NavParams, public menuCtl: MenuController, public platform: Platform, public storage: Storage, public servicePouchdb: PouchdbProvider, public alertCtl: AlertController) {\n  \n    this.menuCtl.enable(false, 'options');\n      this.menuCtl.enable(false, 'connexion');\n      this.menuCtl.enable(false, 'profile');\n  }\n  \n    dismiss(){\n      this.viewCtl.dismiss(/*this.protocoles*/);\n      //this.a_matricule = false;\n    }\n    closeToast(){\n     let toast = this.ionicApp._toastPortal.getActive();\n      toast.dismiss();\n    }\n    estMangerConnecter(user){\n      if(user && user.roles){\n        this.estManager = global.estManager(user.roles);\n      }\n    }\n  \n     estAnimataireConnecter(user){\n      if(user && user.roles){\n        this.estAnimataire = global.estAnimataire(user.roles);\n      }\n    }\n  \n    initForm(){\n      let maDate = new Date();\n      //this.dateAjout = maDate;\n       let today = this.createDate(maDate.getDate(), maDate.getMonth(), maDate.getFullYear());\n       this.configForm = this.formBuilder.group({\n       // _id:[''],\n        type:['config-app'],\n        annee:['', Validators.required],\n        nom_structure:['', Validators.required],\n        code_structure:['', [Validators.required, Validators.pattern('[A-Za-z0-9]{2,3}')]],\n        //pays:['', Validators.required],\n        //region:['', Validators.required],\n        today: [today],\n        deviceid: [''],\n        imei: [''],\n        phonenumber: [''],\n        start: [maDate.toJSON()],\n        end: ['']\n      });\n       \n    }  \n  \n\n    initFormEdition(){\n      //let maDate = new Date();\n      //this.dateAjout = maDate;\n       //let today = this.createDate(maDate.getDate(), maDate.getMonth(), maDate.getFullYear());\n       this.configForm = this.formBuilder.group({\n       // _id:[''],\n        //type:[this.config.data.type],\n        nom_structure:[this.config1.nom_structure, Validators.required],\n        code_structure:[this.config1.code_structure, [Validators.required, Validators.pattern('[A-Za-z0-9]{2,3}')]],\n        //pays:[this.config1.pays, Validators.required],\n        //region:[this.config1.region, Validators.required],\n        today: [this.config1.today],\n      });\n       \n    }  \n  \n  \n    getInfoSimEmei(){\n      this.sim.getSimInfo().then(\n          (info) => {\n            if(info.cards.length > 0){\n              info.cards.forEach((infoCard) => {\n                if(infoCard.phoneNumber){\n                  this.phonenumber = infoCard.phoneNumber;\n                }\n                if(infoCard.deviceId){\n                  this.imei = infoCard.deviceId;\n                }\n              })\n            }else{\n              this.phonenumber = info.phoneNumber;\n              this.imei = info.deviceId;\n            }\n  \n          },\n          (err) => console.log('Unable to get sim info: ', err)\n        );\n    }\n  \n    createDate(jour: any, moi: any, annee: any){\n      let s = annee+'-';\n      moi += 1;\n      if(moi < 10){\n        s += '0'+moi+'-';\n      }else{\n        s += moi+'-';\n      }\n  \n      if(jour < 10){\n        s += '0'+jour;\n      }else{\n        s += jour;\n      }\n      return s;\n    }\n  \n  \n    reinitForm(){\n\n      //this.initForm();\n      //this.avec_repetition = 'non';\n      //this.avec_parcelle = 'non';\n      //this.avec_bloc = 'non';\n      //this.typologie = 'non';\n      //this.traitement = 'oui';\n    }\n  \n  generateId(){\n      var chars='ABCDEFGHIJKLMNPQRSTUVWYZ'\n      var numbers='0123456789'\n      var randomArray=[]\n      for(let i=0;i<4;i++){\n        var rand = Math.floor(Math.random()*10)\n        randomArray.push(numbers[rand])\n      }\n      randomArray.push('-')\n      for(let i=0;i<4;i++){\n        var rand = Math.floor(Math.random()*24)\n        randomArray.push(chars[rand])\n      }\n      \n      var randomString=randomArray.join(\"\");\n      var Id= /*+pays+'-'+region+'-'+department+'-'+commune +'-' +village+ */''+randomString \n      return Id;\n    }\n  \n    \n\n\n    actionForm(){\n      let config = this.configForm.value;\n          \n      if(this.ajoutForm && !this.modifierFrom){\n          let date = new Date();\n          config.deviceid = this.device.uuid;\n          config.phonenumber = this.phonenumber;\n          config.imei = this.imei; \n          config.update_deviceid = this.device.uuid;\n          config.update_phonenumber = this.phonenumber;\n          config.update_imei = this.imei;\n          config.end = date.toJSON();\n          let configFinal: any = {};\n          configFinal._id = 'config-app';\n          configFinal.data = config\n          this.servicePouchdb.createDocReturn(configFinal).then((res) => {\n\n              configFinal._rev = res.rev;\n              //let E: any = {};\n             // E.doc = configFinal;\n              this.config = configFinal;\n              //this.viewCtl.dismiss(essaiFinal);\n            // this.zone.run(() => {\n            }); \n            this.ajoutForm = false;\n\n      }else if(this.modifierFrom){\n        let date = new Date();\n        //let protocole = this.protocoleForm.value;\n        this.config1.nom_structure = config.nom_structure;\n        this.config1.code_structure = config.code_structure; \n        this.config1.pays = config.pays; \n        this.config1.region = config.region; \n     \n       \n        this.config1.update_deviceid = this.device.uuid;\n        this.config1.update_phonenumber = this.phonenumber;\n        this.config1.update_imei = this.imei;\n      \n        //let essaiFinal: any = {};\n        this.grandConfig.data = this.config1\n        this.servicePouchdb.updateDocReturn(this.grandConfig).then((res) => {\n          this.grandConfig._rev = res.rev;\n          this.config = this.grandConfig;\n          //this.essais[this.essais.indexOf(this.essaiAModifier)] = e;\n          \n          \n          //this.reinitFormModifier();\n          this.modifierFrom = false;\n          this.ajoutForm = false;\n          //e.doc = this.protocole;\n\n        });\n      }\n      \n     \n  }\n  \n\n  annuler(){\n      this.ajoutForm = false;\n\n    if(this.modifierFrom){\n      this.modifierFrom = false;\n      this.ajoutForm = false;\n    } \n  }\n\n  fermerDetail(){\n      //this.detailProtocole = false;\n      //this.essai = {};\n    \n  }\n\n  supprimer(config){\n    let e: any = {};\n    let alert = this.alertCtl.create({\n      title: 'Suppression config',\n      message: 'Etes vous sûr de vouloir supprimer cette config ?',\n      buttons:[\n        {\n          text: 'Non',\n          handler: () => console.log('suppression annulée')\n \n        },\n        {\n          text: 'Oui',\n          handler: () => {\n            this.servicePouchdb.deleteDocReturn(config).then((res) => {\n            }, err => {\n              console.log(err)\n            }) ;\n            \n          }\n        }\n      ]\n    });\n\n    alert.present();\n  }\n\n  ionViewDidEnter(){\n    \n    this.getprotocoles();\n    this.getInfoSimEmei();\n  }\n\n  ionViewDidLoad() { \n\n    this.initForm();\n\n  }\n\n\n \n  getprotocoles(){\n    this.servicePouchdb.getDocById('config-app').then((c) => {\n      if(c){\n          this.config = c;\n        }\n    });\n  }\n\n\n  editer(config, dbclick: boolean = false){\n    if(!dbclick || (dbclick && this.user && this.user.roles && global.estAnimataire(this.user.roles))){\n      this.grandConfig = config;\n      this.config1 = this.grandConfig.data;\n\n      this.initFormEdition();\n      //this.nom_producteur = this.protocole1.nom_producteur;\n\n      \n      \n      //this.ajoutForm = true;\n\n      this.modifierFrom = true;\n      //this.configAModifier = config;\n   }\n  }\n\n  reinitFormModifier(){\n    /*this.grandProtocole = '';\n    this.protocole1 = {};\n    this.initForm();\n    this.avec_repetition = 'non';\n    this.avec_parcelle = 'non';\n    this.avec_bloc = 'non';\n    this.typologie = 'non';\n    this.traitement = 'oui';*/\n    \n  }\n\n  \n   ajouter(){\n\n      let maDate = new Date();\n      this.today = this.createDate(maDate.getDate(), maDate.getMonth(), maDate.getFullYear());\n      this.ajoutForm = true;\n      \n  }\n  \n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/config-app/config-app.ts"],"sourceRoot":""}